---

title: 关于领域驱动

date: 2020-12-06 22:45:17

---

##### 前言

DDD不是一套框架，是一种架构思想。

我们是在面向对象吗？

项目中充斥着大段大段的事务脚本型代码


##### 术语

- 领域 边界 

- 统一语言

- 限界上下文的划分

- 在一个限界上下文的内部包含核心子域，支持子域，通用子域

- 失血 贫血 充血

- DP模型 Domain Primitive  充分体业务域，比如对于手机号这个字符串，使用一个PhoneNumber类来代替

  - 隐性的概念显性化
  - 隐形的上下文显性化
  - 封装多对象行为

- 实体 值对象 领域服务 仓储 工厂

- 聚合 聚合根

- 领域事件 发布-订阅模型

- 架构对比 三层 四层  CLEAN 六边形 CQRS  防腐层（Anti-Corruption Layer, ACL）

- ddd下的架构模式 

- 事件溯源  事件驱动架构EDA  分布式事务 saga模式

- kafka

  


##### 怎么划分上下文

##### 啥是聚合

##### 事件溯源





##### 一些说明

应用服务和领域服务：判断什么时候应该定义领域服务，什么时候应该定义应用服务，一个根本的判断依据是看**需要封装的职责是否与领域相关**。

防腐层（ACL）：客户端自己的域模型为客户提供功能。该层通过其现有接口与另一个系统进行通信，几乎不需要或不需要对其进行任何修改。因此，防腐层隔离不仅是为了保护您免受混乱的代码的侵害，还在于分离不同的域并确保它们在将来保持分离。

##### 参考

- [解构领域驱动](http://zhangyi.xyz/categories/DDD/)
- [事件驱动与CQRS](https://mp.weixin.qq.com/s/Z3uJhxJGDif3qN5OlE_woA)